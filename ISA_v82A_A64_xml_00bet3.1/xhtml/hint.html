<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="insn.css" /><meta name="generator" content="iform.xsl" /><title>HINT -- A64</title></head><body><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="permindex.html">Permuted Index</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr /><h2 class="instruction-section">HINT</h2><p id="desc">
      <p class="aml">Hint instruction is for the instruction set space that is reserved for architectural hint instructions.</p>
      <p class="aml">Some encodings described here are unallocated in this revision of the architecture, and behave as NOPs. These encodings might be allocated to other hint functionality in future revisions of the architecture.</p>
    </p>
    <p class="desc"></p><div class="regdiagram-32"><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td class="r">0</td><td class="lr">0</td><td class="l">0</td><td class="r">0</td><td class="l">0</td><td>1</td><td class="r">1</td><td class="l">0</td><td>0</td><td>1</td><td class="r">0</td><td colspan="4" class="lr">CRm</td><td colspan="3" class="lr">op2</td><td class="l">1</td><td>1</td><td>1</td><td>1</td><td class="r">1</td></tr></tbody></table></div><div class="encoding"><h4 class="encoding">Hints 6 and 7<span class="bitdiff"> (CRm == 0000 &amp;&amp; op2 == 11x)</span></h4><p class="asm-code"><a name="HINT_1" id="HINT_1">HINT  #<a href="#imm" title="7-bit unsigned immediate [0-127], excluding the allocated encodings described below (field &quot;CRm:op2&quot;)">&lt;imm&gt;</a></a></p></div><div class="encoding"><h4 class="encoding">Hints 8 to 15, and 24 to 127<span class="bitdiff"> (CRm != 00x0)</span></h4><p class="asm-code"><a name="HINT_2" id="HINT_2">HINT  #<a href="#imm" title="7-bit unsigned immediate [0-127], excluding the allocated encodings described below (field &quot;CRm:op2&quot;)">&lt;imm&gt;</a></a></p></div><div class="encoding"><h4 class="encoding">Hints 17 to 23<span class="bitdiff"> (CRm == 0010 &amp;&amp; op2 != 00x)</span></h4><p class="asm-code"><a name="HINT_3" id="HINT_3">HINT  #<a href="#imm" title="7-bit unsigned immediate [0-127], excluding the allocated encodings described below (field &quot;CRm:op2&quot;)">&lt;imm&gt;</a></a></p></div><p class="pseudocode">SystemHintOp op;

case CRm:op2 of
    when '0000 000' op = SystemHintOp_NOP;
    when '0000 001' op = SystemHintOp_YIELD;
    when '0000 010' op = SystemHintOp_WFE;
    when '0000 011' op = SystemHintOp_WFI;
    when '0000 100' op = SystemHintOp_SEV;
    when '0000 101' op = SystemHintOp_SEVL;
    when '0010 000' 
        op = if <a href="shared_pseudocode.html#impl-shared.HaveRASExt.0" title="function: boolean HaveRASExt()">HaveRASExt</a>() then SystemHintOp_ESB else SystemHintOp_NOP;
    when '0010 001'
        op = if <a href="shared_pseudocode.html#impl-shared.HaveStatisticalProfiling.0" title="function: boolean HaveStatisticalProfiling()">HaveStatisticalProfiling</a>() then SystemHintOp_PSB else SystemHintOp_NOP;
    otherwise  op = SystemHintOp_NOP;</p>
  <p class="encoding-notes"></p><h3 class="explanations">Assembler Symbols</h3><div class="explanations"><table><col class="asyn-l" /><col class="asyn-r" /><tr><td>&lt;imm&gt;</td><td><a name="imm" id="imm">
        
          <p class="aml">Is a 7-bit unsigned immediate, in the range 0 to 127, excluding the allocated encodings described below, encoded in "CRm:op2".</p>
          <p class="aml">The following encodings of "CRm:op2" are allocated:</p>
          <dl>
            <dt>0000000</dt><dd><span class="asm-code">NOP</span></dd>
            <dt>0000001</dt><dd><span class="asm-code">YIELD</span></dd>
            <dt>0000010</dt><dd><span class="asm-code">WFE</span></dd>
            <dt>0000011</dt><dd><span class="asm-code">WFI</span></dd>
            <dt>0000100</dt><dd><span class="asm-code">SEV</span></dd>
            <dt>0000101</dt><dd><span class="asm-code">SEVL</span></dd>
          </dl>
          
            <p class="aml">For allocated encodings of "CRm:op2":</p>
            <ul>
              <li>A disassembler will disassemble the allocated instruction, rather than the <span class="asm-code">HINT</span> instruction.</li>
              <li>An assembler may support assembly of allocated encodings using <span class="asm-code">HINT</span> with the corresponding &lt;imm&gt; value, but it is not required to do so.</li>
            </ul>
          
        
      </a></td></tr></table></div><p class="syntax-notes"></p>
    <div class="ps" psname="commonps"><a name="commonps" id="commonps"></a><h3 class="pseudocode">Operation</h3>
      <p class="pseudocode">case op of
    when SystemHintOp_YIELD
        <a href="shared_pseudocode.html#impl-shared.Hint_Yield.0" title="function: Hint_Yield()">Hint_Yield</a>();

    when SystemHintOp_WFE
        if <a href="shared_pseudocode.html#impl-shared.IsEventRegisterSet.0" title="function: boolean IsEventRegisterSet()">IsEventRegisterSet</a>() then
            <a href="shared_pseudocode.html#impl-shared.ClearEventRegister.0" title="function: ClearEventRegister()">ClearEventRegister</a>();
        else
            if PSTATE.EL == <a href="shared_pseudocode.html#EL0" title="constant bits(2) EL0 = '00'">EL0</a> then
                // Check for traps described by the OS which may be EL1 or EL2.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL1" title="constant bits(2) EL1 = '01'">EL1</a>, TRUE);
            if <a href="shared_pseudocode.html#impl-shared.HaveEL.1" title="function: boolean HaveEL(bits(2) el)">HaveEL</a>(<a href="shared_pseudocode.html#EL2" title="constant bits(2) EL2 = '10'">EL2</a>) &amp;&amp; !<a href="shared_pseudocode.html#impl-shared.IsSecure.0" title="function: boolean IsSecure()">IsSecure</a>() &amp;&amp; PSTATE.EL IN {<a href="shared_pseudocode.html#EL0" title="constant bits(2) EL0 = '00'">EL0</a>,<a href="shared_pseudocode.html#EL1" title="constant bits(2) EL1 = '01'">EL1</a>} &amp;&amp; !<a href="shared_pseudocode.html#impl-shared.IsInHost.0" title="function: boolean IsInHost()">IsInHost</a>() then
                // Check for traps described by the Hypervisor.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL2" title="constant bits(2) EL2 = '10'">EL2</a>, TRUE);
            if <a href="shared_pseudocode.html#impl-shared.HaveEL.1" title="function: boolean HaveEL(bits(2) el)">HaveEL</a>(<a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a>) &amp;&amp; PSTATE.EL != <a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a> then
                // Check for traps described by the Secure Monitor.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a>, TRUE);
            <a href="shared_pseudocode.html#impl-shared.WaitForEvent.0" title="function: WaitForEvent()">WaitForEvent</a>();

    when SystemHintOp_WFI
        if !<a href="shared_pseudocode.html#impl-shared.InterruptPending.0" title="function: boolean InterruptPending()">InterruptPending</a>() then
            if PSTATE.EL == <a href="shared_pseudocode.html#EL0" title="constant bits(2) EL0 = '00'">EL0</a> then
                // Check for traps described by the OS which may be EL1 or EL2.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL1" title="constant bits(2) EL1 = '01'">EL1</a>, FALSE);
            if <a href="shared_pseudocode.html#impl-shared.HaveEL.1" title="function: boolean HaveEL(bits(2) el)">HaveEL</a>(<a href="shared_pseudocode.html#EL2" title="constant bits(2) EL2 = '10'">EL2</a>) &amp;&amp; !<a href="shared_pseudocode.html#impl-shared.IsSecure.0" title="function: boolean IsSecure()">IsSecure</a>() &amp;&amp; PSTATE.EL IN {<a href="shared_pseudocode.html#EL0" title="constant bits(2) EL0 = '00'">EL0</a>,<a href="shared_pseudocode.html#EL1" title="constant bits(2) EL1 = '01'">EL1</a>} &amp;&amp; !<a href="shared_pseudocode.html#impl-shared.IsInHost.0" title="function: boolean IsInHost()">IsInHost</a>() then
                // Check for traps described by the Hypervisor.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL2" title="constant bits(2) EL2 = '10'">EL2</a>, FALSE);
            if <a href="shared_pseudocode.html#impl-shared.HaveEL.1" title="function: boolean HaveEL(bits(2) el)">HaveEL</a>(<a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a>) &amp;&amp; PSTATE.EL != <a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a> then
                // Check for traps described by the Secure Monitor.
                <a href="shared_pseudocode.html#AArch64.CheckForWFxTrap.2" title="function: AArch64.CheckForWFxTrap(bits(2) target_el, boolean is_wfe)">AArch64.CheckForWFxTrap</a>(<a href="shared_pseudocode.html#EL3" title="constant bits(2) EL3 = '11'">EL3</a>, FALSE);
            <a href="shared_pseudocode.html#impl-shared.WaitForInterrupt.0" title="function: WaitForInterrupt()">WaitForInterrupt</a>();

    when SystemHintOp_SEV
        <a href="shared_pseudocode.html#impl-shared.SendEvent.0" title="function: SendEvent()">SendEvent</a>();

    when SystemHintOp_SEVL
        <a href="shared_pseudocode.html#impl-shared.SendEventLocal.0" title="function: SendEventLocal()">SendEventLocal</a>();

    when SystemHintOp_ESB
        <a href="shared_pseudocode.html#impl-shared.ErrorSynchronizationBarrier.2" title="function: ErrorSynchronizationBarrier(MBReqDomain domain, MBReqTypes types)">ErrorSynchronizationBarrier</a>(<a href="shared_pseudocode.html#MBReqDomain_FullSystem" title="enumeration MBReqDomain    {MBReqDomain_Nonshareable, MBReqDomain_InnerShareable,&#13; MBReqDomain_OuterShareable, MBReqDomain_FullSystem}">MBReqDomain_FullSystem</a>, <a href="shared_pseudocode.html#MBReqTypes_All" title="enumeration MBReqTypes     {MBReqTypes_Reads, MBReqTypes_Writes, MBReqTypes_All}">MBReqTypes_All</a>);
        <a href="shared_pseudocode.html#AArch64.ESBOperation.0" title="function: AArch64.ESBOperation()">AArch64.ESBOperation</a>();
        if <a href="shared_pseudocode.html#impl-shared.HaveEL.1" title="function: boolean HaveEL(bits(2) el)">HaveEL</a>(<a href="shared_pseudocode.html#EL2" title="constant bits(2) EL2 = '10'">EL2</a>) &amp;&amp; !<a href="shared_pseudocode.html#impl-shared.IsSecure.0" title="function: boolean IsSecure()">IsSecure</a>() &amp;&amp; PSTATE.EL IN {<a href="shared_pseudocode.html#EL0" title="constant bits(2) EL0 = '00'">EL0</a>,<a href="shared_pseudocode.html#EL1" title="constant bits(2) EL1 = '01'">EL1</a>} then <a href="shared_pseudocode.html#AArch64.vESBOperation.0" title="function: AArch64.vESBOperation()">AArch64.vESBOperation</a>();
        <a href="shared_pseudocode.html#impl-shared.TakeUnmaskedSErrorInterrupts.0" title="function: TakeUnmaskedSErrorInterrupts()">TakeUnmaskedSErrorInterrupts</a>();

    when SystemHintOp_PSB
        <a href="shared_pseudocode.html#impl-aarch64.ProfilingSynchronizationBarrier.0" title="function: ProfilingSynchronizationBarrier()">ProfilingSynchronizationBarrier</a>();

    otherwise // do nothing</p>
    </div>
  <hr /><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="permindex.html">Permuted Index</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions">
      Internal version only: isa v25.07, AdvSIMD v23.0, pseudocode v31.3
    </p><p class="copyconf">
      Copyright © 2010-2017 ARM Limited or its affiliates. All rights reserved.
      This document is Confidential.
    </p></body></html>
