<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><link href="insn.css" rel="stylesheet" type="text/css"/><meta content="iform.xsl" name="generator"/><title>EXT -- A64</title></head><body><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old"><a href="../../ISA_v82A_A64_xml_00bet3.1/xhtml/ext_advsimd.html">ISA_v82A_A64_xml_00bet3.1 (old)</a></td><td class="explain">htmldiff from-ISA_v82A_A64_xml_00bet3.1</td><td class="new"><a href="../xhtml/ext_advsimd.html">(new) ISA_v82A_A64_xml_00bet3.1_OPT</a></td></tr></tbody></table></div><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="permindex.html">Permuted Index</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr/><h2 class="instruction-section">EXT</h2><p id="desc"><p class="aml">Extract vector from pair of vectors. This instruction extracts the lowest vector elements from the second source SIMD&amp;FP register and the highest vector elements from the first source SIMD&amp;FP register, concatenates the results into a vector, and writes the vector to the destination SIMD&amp;FP register vector. The index value specifies the lowest vector element to extract from the first source register, and consecutive elements are extracted from the first, then second, source registers until the destination vector is filled.</p><p class="aml">
    The following figure shows an example of the operation of EXT doubleword operation for Q = 0 and imm4&lt;2:0> = 3.<br/><img alt="EXT doubleword operation for Q = 0 and imm4&lt;2:0> = 3" src="A64.ext_doubleword_operation_for_imm3.svg"/></p><p class="aml">Depending on the settings in the <a class="armarm-xref" title="Reference to ARM ARM section">CPACR_EL1</a>, <a class="armarm-xref" title="Reference to ARM ARM section">CPTR_EL2</a>, and <a class="armarm-xref" title="Reference to ARM ARM section">CPTR_EL3</a> registers, and the current Security state and Exception level, an attempt to execute the instruction might be trapped.</p></p><p class="desc"></p><div class="regdiagram-32"><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="lr">0</td><td class="lr">Q</td><td class="l">1</td><td>0</td><td>1</td><td>1</td><td>1</td><td class="r">0</td><td class="l">0</td><td class="r">0</td><td class="lr">0</td><td class="lr" colspan="5">Rm</td><td class="lr">0</td><td class="lr" colspan="4">imm4</td><td class="lr">0</td><td class="lr" colspan="5">Rn</td><td class="lr" colspan="5">Rd</td></tr></tbody></table></div><div class="encoding"><h4 class="encoding">Advanced SIMD</h4><p class="asm-code"><a id="EXT_asimdext_only" name="EXT_asimdext_only">EXT  <a href="#vd" title="SIMD&amp;FP destination register (field &quot;Rd&quot;)">&lt;Vd></a>.<a href="#t" title="Arrangement specifier (field &quot;Q&quot;)">&lt;T></a>, <a href="#vn" title="First SIMD&amp;FP source register (field &quot;Rn&quot;)">&lt;Vn></a>.<a href="#t" title="Arrangement specifier (field &quot;Q&quot;)">&lt;T></a>, <a href="#vm" title="Second SIMD&amp;FP source register (field &quot;Rm&quot;)">&lt;Vm></a>.<a href="#t" title="Arrangement specifier (field &quot;Q&quot;)">&lt;T></a>, #<a href="#index" title="Lowest numbered byte element to be extracted (field &quot;Q:imm4&quot;)">&lt;index></a></a></p></div><p class="pseudocode">integer d = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Rd);
integer n = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Rn);
integer m = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Rm);

if Q == '0' &amp;&amp; imm4&lt;3> == '1' then <a href="shared_pseudocode.html#impl-shared.UnallocatedEncoding.0" title="function: UnallocatedEncoding()">UnallocatedEncoding</a>();

integer datasize = if Q == '1' then 128 else 64;
integer position = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(imm4) &lt;&lt; 3;</p><p class="encoding-notes"></p><h3 class="explanations">Assembler Symbols</h3><div class="explanations"><table><col class="asyn-l"/><col class="asyn-r"/><tr><td>&lt;Vd></td><td><a id="vd" name="vd"><p class="aml">Is the name of the SIMD&amp;FP destination register, encoded in the "Rd" field.</p></a></td></tr></table><table><col class="asyn-l"/><col class="asyn-r"/><tr><td>&lt;T></td><td><a id="t" name="t">
        Is an arrangement specifier, 
    encoded in 
    <q>Q</q>:
      
        <table class="valuetable"><thead><tr><th class="bitfield">Q</th><th class="symbol">&lt;T></th></tr></thead><tbody><tr><td class="bitfield">0</td><td class="symbol">8B</td></tr><tr><td class="bitfield">1</td><td class="symbol">16B</td></tr></tbody></table></a></td></tr></table><table><col class="asyn-l"/><col class="asyn-r"/><tr><td>&lt;Vn></td><td><a id="vn" name="vn"><p class="aml">Is the name of the first SIMD&amp;FP source register, encoded in the "Rn" field.</p></a></td></tr></table><table><col class="asyn-l"/><col class="asyn-r"/><tr><td>&lt;Vm></td><td><a id="vm" name="vm"><p class="aml">Is the name of the second SIMD&amp;FP source register, encoded in the "Rm" field.</p></a></td></tr></table><table><col class="asyn-l"/><col class="asyn-r"/><tr><td>&lt;index></td><td><a id="index" name="index">
        Is the lowest numbered byte element to be extracted, 
    encoded in 
    <q>Q:imm4</q>:
      
        <table class="valuetable"><thead><tr><th class="bitfield">Q</th><th class="bitfield">imm4&lt;3></th><th class="symbol">&lt;index></th></tr></thead><tbody><tr><td class="bitfield">0</td><td class="bitfield">0</td><td class="symbol">imm4&lt;2:0></td></tr><tr><td class="bitfield">0</td><td class="bitfield">1</td><td class="symbol">RESERVED</td></tr><tr><td class="bitfield">1</td><td class="bitfield">x</td><td class="symbol">imm4</td></tr></tbody></table></a></td></tr></table></div><p class="syntax-notes"></p><div class="ps" psname="commonps"><a id="commonps" name="commonps"></a><h3 class="pseudocode">Operation</h3><p class="pseudocode"><a href="shared_pseudocode.html#impl-aarch64.CheckFPAdvSIMDEnabled64.0" title="function: CheckFPAdvSIMDEnabled64()">CheckFPAdvSIMDEnabled64</a>();
bits(datasize) hi = <a href="shared_pseudocode.html#impl-aarch64.V.read.1" title="accessor: bits(width) V[integer n]">V</a>[m];
bits(datasize) lo = <a href="shared_pseudocode.html#impl-aarch64.V.read.1" title="accessor: bits(width) V[integer n]">V</a>[n];
<ins>bits(datasize*2) concat = hi:lo;</ins><del>bits(datasize*2) concat = hi : lo;</del>

<a href="shared_pseudocode.html#impl-aarch64.V.write.1" title="accessor: V[integer n] = bits(width) value">V</a>[d] = concat&lt;position+datasize-1:position>;</p></div><hr/><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="permindex.html">Permuted Index</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions">
      Internal version only: isa v25.07, AdvSIMD v23.0, pseudocode v31.3
    </p><p class="copyconf">
      Copyright Â© 2010-2017 ARM Limited or its affiliates. All rights reserved.
      This document is Confidential.
    </p><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old"><a href="../../ISA_v82A_A64_xml_00bet3.1/xhtml/ext_advsimd.html">ISA_v82A_A64_xml_00bet3.1 (old)</a></td><td class="explain">htmldiff from-ISA_v82A_A64_xml_00bet3.1</td><td class="new"><a href="../xhtml/ext_advsimd.html">(new) ISA_v82A_A64_xml_00bet3.1_OPT</a></td></tr></tbody></table></div></body></html>